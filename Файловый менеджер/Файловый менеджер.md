### Экран "Файловый менеджер"

На экране отображается содержимое выбранного каталога — файлы и папки, доступные для просмотра, открытия или действий над ними (копирование, перемещение, удаление и др.).

Поддерживаются различные режимы отображения (список / плитка), сортировка по имени, дате, размеру, а также навигация вверх по структуре директорий.  
Для каждого элемента доступны контекстные действия — через длительное нажатие или иконку меню.

Переход внутрь папок осуществляется по нажатию. Открытие файла — в соответствии с выбранным действием по умолчанию или через диалог [[Выбор варианта открытия содержимого файла]].

---

**Верхняя панель:**

- В **верхнем левом углу** находится иконка **гамбургер**, открывающая левую выдвижную панель [[Менеджер хранилищ]], содержащую список хранилищ.  
  Панель повторяет функциональность основного менеджера хранилищ, за исключением возможности добавления нового хранилища (иконка «плюс» недоступна).
- При нажатии кнопки **Назад** выполняется возврат на экран [[Менеджер хранилищ]].

---

**Меню действий над текущей папкой (в верхней части экрана):**

- **Поиск** — включает режим рекурсивного поиска по текущей папке с учётом настроек приложения.
- **Выбрать всё** — выделяет все объекты в текущей папке.
- **Очистить индексы** — удаляет индексированные данные для текущего хранилища (если включён индексированный поиск).
- **Больше опций** — открывает экран [[Меню действий над папкой]].

---

**Путь и заголовок:**

- Под меню отображается название активного хранилища.
- Ниже — иерархия вложенных папок.  
  При нажатии на любую часть пути осуществляется переход к соответствующему уровню вложенности.

---

**Список файлов и папок:**

- Основная часть экрана — список файлов и папок текущей директории.
- Каждый элемент содержит:
  - название объекта,
  - размер,
  - дату последнего изменения,
  - иконку или превью (для медиафайлов).

---

**Работа с объектами:**

- **Долгое нажатие** — выделяет объект.
- После выделения появляется **всплывающая панель** [[Панель действий над выделенными объектами]] в нижней части экрана.
- **Короткое нажатие** по другому объекту — добавляет его к выделенным.
- **Повторное нажатие** — снимает выделение.
- При отсутствии выделенных объектов панель автоматически скрывается.

---

**Действия с файлами и папками:**

- Нажатие на **папку** открывает её содержимое.
- Нажатие на **файл**:
  - открывает экран [[Выбор варианта открытия содержимого файла]],
  - или сразу запускает действие, указанное в [[Действие по нажатию на файл]].

---

**Обновление содержимого:**

- Список можно обновить жестом **свайп вниз**.

---

**Панельность:**

- Файловый менеджер работает в **двухпанельном режиме**.
- Переключение ко **второй панели** — жестом **свайп влево**.

---

**Создание объектов:**

- В нижнем правом углу размещена **плавающая кнопка «плюс»**.
- Нажатие на неё открывает экран [[Создание нового объекта]] в текущей папке.

___

При открытии USB-хранилища с **неподдерживаемой файловой системой**  
выводится сообщение об ошибке и диалог с предложением:

- **Добавить существующий контейнер**  
  После выбора этого варианта см. описание процесса в разделе [[Помощник добавления существующего контейнера из USB]].

- **Создать новый контейнер**  
  После выбора этого варианта см. описание процесса в разделе [[Помощник создания нового контейнера из USB]].
